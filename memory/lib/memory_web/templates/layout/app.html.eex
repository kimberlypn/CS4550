<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <script>
    window.userToken = "TODO";
    function getLink() {
      // Get the game name
      var game_name = document.getElementById('game-name').value;
      // Append the game name to the link
      var link = "game/" + game_name;
      // Display the error message if the user clicked 'Join' without entering
      // a game name
      if (!game_name)
        document.getElementById('error').style.display = 'inline';
      // Else, redirect the user to the game
      else
        document.forms[0].action = link;
    }
  </script>
  <title>Memory Game</title>
  <link rel="stylesheet" href="<%= static_path(@conn, "/css/app.css") %>">
</head>

<body>
  <div class="container">
    <%= if get_flash(@conn, :info) || get_flash(@conn, :error) do %>
    <div class="row">
      <div class="col-12">
        <%= if get_flash(@conn, :info) do %>
        <p class="alert alert-info" role="alert"><%= get_flash(@conn, :info) %></p>
        <% end %>
        <%= if get_flash(@conn, :error) do %>
        <p class="alert alert-danger" role="alert"><%= get_flash(@conn, :error) %></p>
        <% end %>
      </div>
    </div>
    <% end %>

    <main role="main">
      <%= render @view_module, @view_template, assigns %>
    </main>

  </div> <!-- /container -->
  <script src="<%= static_path(@conn, "/js/app.js") %>"></script>
</body>
</html>
